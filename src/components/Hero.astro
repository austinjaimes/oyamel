<style>
  h1, h2, h3, h4, h5, h6 {
    font-family: "Comic Neue", cursive;
    font-weight: 700;
    font-style: normal;
  }
  section {
    background-color: var(--azul-primario);
  }
  button {
    background-color: var(--rojo-alegre);
  }
</style>

<section class="min-h-screen flex items-center justify-center px-6 py-16">
  <div class="max-w-4xl w-full flex flex-col items-center space-y-8 text-start fade-in opacity-0 translate-y-6 transition-all duration-700 ease-out">
    <h2 class="text-3xl">Pláticas informativas</h2>
    <div class="flex flex-col space-y-6">
      <p>
        Te invitamos a conocer el Colegio Inlakesh y más sobre la pedagogía Waldorf.
      </p>
      <p>
        Los jueves de <strong>8:00 a 10:00 am</strong> en las instalaciones del Colegio Oyamel.
      </p>
      <p>
        Av del Bosque S/N, Parque Tarango, Álvaro Obregón, Ciudad de México.
      </p>
      <p class="italic">*Solo adultos / traer calzado cómodo</p>
      <p>
        Para apartar tu lugar, puedes llamar a las oficinas del Colegio Oyamel
        en horario de <br> lunes a viernes de 8:00 am a 2:00 pm.
        Tels: <strong>55 1520 0043</strong> o <strong>55 1520 0597</strong>.
      </p>
      <p>
        O llena el siguiente formulario y nos pondremos en contacto contigo.
      </p>
    </div>
    <button class="h-14 w-96 text-xl hover:bg-blue-200 text-white font-bold px-10 rounded-lg transition">
      Aparta tu lugar aquí
    </button>
  </div>
</section>


<style is:global>
    .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.9s ease-out,
      transform 0.9s ease-out;
  }

  .fade-in.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const elements = document.querySelectorAll(".fade-in");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("show");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.2 },
    );

    elements.forEach((el) => observer.observe(el));
  });

document.addEventListener("DOMContentLoaded", () => {
    const stats = document.querySelectorAll(".fade-in");

    const animateCount = (el) => {
      const target = +el.dataset.target;
      let current = 0;
      const speed = target < 100 ? 50 : 10;

      const update = () => {
        const increment = Math.ceil(target / speed);
        current += increment;
        console.log(current, target);
        if (current >= target) {
          if (target == 100) {
            el.textContent = `${target}%`;
          } else {
            el.textContent = `${target}+`;
          }
        } else {
          el.textContent = `${current}+`;
          requestAnimationFrame(update);
        }
      };

      update();
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.remove("opacity-0", "translate-y-6");
          entry.target.classList.add("opacity-100", "translate-y-0");

          const numberEl = entry.target.querySelector(".stat");
          if (numberEl && !numberEl.dataset.animated) {
            animateCount(numberEl);
            numberEl.dataset.animated = true;
          }

          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.2,
    });

    stats.forEach((stat) => observer.observe(stat));
  });
</script>